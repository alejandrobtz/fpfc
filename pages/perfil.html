<html lang="es">
  <head>
    <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Work+Sans%3Awght%40400%3B500%3B700%3B900"
    />

    <title>Perfil de Usuario</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
    <link rel="stylesheet" href="../styles.css" />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>
  <body>
    <div class="relative flex size-full min-h-screen flex-col bg-[#fbfaf9] group/design-root overflow-x-hidden" style='font-family: "Work Sans", "Noto Sans", sans-serif;'>
      <div class="layout-container flex h-full grow flex-col">
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f1efe9] px-10 py-3">
          <div class="flex items-center gap-8">
            <div class="flex items-center gap-4 text-[#191610]">
              <div class="h-8 w-8">
                <img src="../img/fpfc-logo.png" alt="FPFC Logo" class="h-full w-full object-contain fpfc-logo" />
              </div>
            </div>
            <div class="flex items-center gap-9">
              <a class="text-[#191610] text-sm font-medium leading-normal" href="./dashboard.html">Dashboard</a>
              <a class="text-[#191610] text-sm font-medium leading-normal" href="./inventory.html">Inventario</a>
              <a class="text-[#191610] text-sm font-medium leading-normal" href="./users.html">Seguridad</a>
            </div>
          </div>
          <div class="flex flex-1 justify-end gap-8">
            <div class="relative">
              <button
                id="profileBtn"
                class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 bg-[#f1efe9] text-[#191610] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5"
              >
                <div class="text-[#191610]" data-icon="User" data-size="20px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.8,166.78,40.33,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,0,1,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"></path>
                  </svg>
                </div>
                <span>Perfil</span>
              </button>
              <div
                id="profileDropdown"
                class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 hidden"
              >
                <a
                  href="./perfil.html"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 bg-gray-100"
                >
                  Perfil
                </a>
                <a
                  href="#"
                  onclick="logout()"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                >
                  Cerrar Sesión
                </a>
              </div>
            </div>
          </div>
        </header>
        <div class="px-40 flex flex-1 justify-center py-5">
          <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
            <div class="flex flex-wrap justify-between gap-3 p-4">
              <p class="text-[#191610] tracking-light text-[32px] font-bold leading-tight min-w-72">Mi Perfil</p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 p-4">
              <!-- Profile Picture Section -->
              <div class="lg:col-span-1">
                <div class="bg-white rounded-xl border border-[#e3dfd4] p-6">
                  <div class="text-center">
                    <div class="mx-auto w-32 h-32 rounded-full bg-[#f1efe9] flex items-center justify-center mb-4">
                      <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="#8b7e5b" viewBox="0 0 256 256">
                        <path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.8,166.78,40.33,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,0,1,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"></path>
                      </svg>
                    </div>
                    <h3 class="text-xl font-bold text-[#191610] mb-2">Sofía Rodríguez</h3>
                    <p class="text-[#8b7e5b] text-sm mb-4">Administrador</p>
                    <button
                      onclick="changeProfilePicture()"
                      class="px-4 py-2 bg-[#c39f3c] text-white rounded-lg text-sm font-medium hover:bg-[#b08f2a] transition-colors"
                    >
                      Cambiar Foto
                    </button>
                  </div>
                </div>
              </div>

              <!-- Profile Information Section -->
              <div class="lg:col-span-2">
                <div class="bg-white rounded-xl border border-[#e3dfd4] p-6">
                  <h4 class="text-lg font-bold text-[#191610] mb-4">Información Personal</h4>
                  
                  <form id="profileForm">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                      <div>
                        <label class="block text-sm font-medium text-[#191610] mb-2">Nombre</label>
                        <input
                          type="text"
                          id="firstName"
                          value="Sofía"
                          class="w-full px-3 py-2 border border-[#e3dfd4] rounded-lg focus:outline-none focus:border-[#c39f3c]"
                        />
                      </div>
                      <div>
                        <label class="block text-sm font-medium text-[#191610] mb-2">Apellido</label>
                        <input
                          type="text"
                          id="lastName"
                          value="Rodríguez"
                          class="w-full px-3 py-2 border border-[#e3dfd4] rounded-lg focus:outline-none focus:border-[#c39f3c]"
                        />
                      </div>
                    </div>

                    <div class="mb-4">
                      <label class="block text-sm font-medium text-[#191610] mb-2">Correo electrónico</label>
                      <input
                        type="email"
                        id="email"
                        value="sofia.rodriguez@example.com"
                        class="w-full px-3 py-2 border border-[#e3dfd4] rounded-lg focus:outline-none focus:border-[#c39f3c]"
                      />
                    </div>

                    <div class="mb-4">
                      <label class="block text-sm font-medium text-[#191610] mb-2">Teléfono</label>
                      <input
                        type="tel"
                        id="phone"
                        value="+57 300 123 4567"
                        class="w-full px-3 py-2 border border-[#e3dfd4] rounded-lg focus:outline-none focus:border-[#c39f3c]"
                      />
                    </div>

                    <div class="mb-4">
                      <label class="block text-sm font-medium text-[#191610] mb-2">Departamento</label>
                      <input
                        type="text"
                        id="department"
                        value="Archivo y Conservación"
                        class="w-full px-3 py-2 border border-[#e3dfd4] rounded-lg focus:outline-none focus:border-[#c39f3c]"
                      />
                    </div>

                    <div class="mb-6">
                      <label class="block text-sm font-medium text-[#191610] mb-2">Biografía</label>
                      <textarea
                        id="bio"
                        rows="3"
                        class="w-full px-3 py-2 border border-[#e3dfd4] rounded-lg focus:outline-none focus:border-[#c39f3c] resize-none"
                      >Especialista en conservación de patrimonio fílmico con más de 8 años de experiencia en la Fundación Patrimonio Fílmico Colombiano.</textarea>
                    </div>

                    <div class="flex justify-end gap-3">
                      <button
                        type="button"
                        onclick="resetForm()"
                        class="px-4 py-2 text-sm font-medium text-[#8b7e5b] border border-[#e3dfd4] rounded-lg hover:bg-[#f1efe9] transition-colors"
                      >
                        Restaurar
                      </button>
                      <button
                        type="submit"
                        class="px-4 py-2 text-sm font-medium text-white bg-[#c39f3c] rounded-lg hover:bg-[#b08f2a] transition-colors"
                      >
                        Guardar Cambios
                      </button>
                    </div>
                  </form>
                </div>

                <!-- Security Section -->
                <div class="bg-white rounded-xl border border-[#e3dfd4] p-6 mt-6">
                  <h4 class="text-lg font-bold text-[#191610] mb-4">Seguridad</h4>
                  
                  <div class="space-y-4">
                    <div class="flex items-center justify-between p-4 border border-[#e3dfd4] rounded-lg">
                      <div>
                        <h5 class="font-medium text-[#191610]">Contraseña</h5>
                        <p class="text-sm text-[#8b7e5b]">Última actualización: hace 3 meses</p>
                      </div>
                      <button
                        onclick="changePassword()"
                        class="px-4 py-2 text-sm font-medium text-[#c39f3c] border border-[#c39f3c] rounded-lg hover:bg-[#c39f3c] hover:text-white transition-colors"
                      >
                        Cambiar
                      </button>
                    </div>

                    <div class="flex items-center justify-between p-4 border border-[#e3dfd4] rounded-lg">
                      <div>
                        <h5 class="font-medium text-[#191610]">Autenticación de dos factores</h5>
                        <p class="text-sm text-[#8b7e5b]">Aumenta la seguridad de tu cuenta</p>
                      </div>
                      <button
                        onclick="toggleTwoFactor()"
                        class="px-4 py-2 text-sm font-medium text-white bg-[#c39f3c] rounded-lg hover:bg-[#b08f2a] transition-colors"
                      >
                        Activar
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const profileBtn = document.getElementById('profileBtn');
        const profileDropdown = document.getElementById('profileDropdown');
        const profileForm = document.getElementById('profileForm');

        profileBtn.addEventListener('click', function() {
          profileDropdown.classList.toggle('hidden');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
          if (!profileBtn.contains(event.target) && !profileDropdown.contains(event.target)) {
            profileDropdown.classList.add('hidden');
          }
        });

        // Handle form submission
        profileForm.addEventListener('submit', function(e) {
          e.preventDefault();
          saveProfileChanges();
        });
      });

      function changeProfilePicture() {
        alert('Función para cambiar foto de perfil - En una implementación real, aquí se abriría un selector de archivos');
      }

      function saveProfileChanges() {
        const firstName = document.getElementById('firstName').value;
        const lastName = document.getElementById('lastName').value;
        const email = document.getElementById('email').value;
        const phone = document.getElementById('phone').value;
        const department = document.getElementById('department').value;
        const bio = document.getElementById('bio').value;

        if (firstName && lastName && email) {
          alert('Cambios guardados exitosamente');
          // Here you would typically send the data to a server
        } else {
          alert('Por favor completa todos los campos obligatorios');
        }
      }

      function resetForm() {
        if (confirm('¿Estás seguro de que quieres restaurar los valores originales?')) {
          document.getElementById('firstName').value = 'Sofía';
          document.getElementById('lastName').value = 'Rodríguez';
          document.getElementById('email').value = 'sofia.rodriguez@example.com';
          document.getElementById('phone').value = '+57 300 123 4567';
          document.getElementById('department').value = 'Archivo y Conservación';
          document.getElementById('bio').value = 'Especialista en conservación de patrimonio fílmico con más de 8 años de experiencia en la Fundación Patrimonio Fílmico Colombiano.';
        }
      }

      function changePassword() {
        const currentPassword = prompt('Ingresa tu contraseña actual:');
        if (currentPassword) {
          const newPassword = prompt('Ingresa tu nueva contraseña:');
          if (newPassword) {
            const confirmPassword = prompt('Confirma tu nueva contraseña:');
            if (newPassword === confirmPassword) {
              alert('Contraseña cambiada exitosamente');
            } else {
              alert('Las contraseñas no coinciden');
            }
          }
        }
      }

      function toggleTwoFactor() {
        alert('Función para activar/desactivar autenticación de dos factores - En una implementación real, aquí se configuraría 2FA');
      }

      function logout() {
        if (confirm('¿Estás seguro de que quieres cerrar sesión?')) {
          window.location.href = './index.html';
        }
      }
    </script>
  </body>
</html>
